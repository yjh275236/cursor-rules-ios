---
alwaysApply: false
---
# Xcode è‡ªåŠ¨åŒ–è°ƒè¯•ä¸æµ‹è¯•

## è§¦å‘æ–¹å¼
- `@xcode-log.mdc`
- "è°ƒè¯•"ã€"æµ‹è¯•"ã€"æŸ¥çœ‹æ—¥å¿—"ã€"æ•è·æ—¥å¿—"

## æ ¸å¿ƒä»·å€¼
**å½“å¼•ç”¨æ­¤è§„åˆ™æ—¶ï¼Œè¡¨ç¤ºç”¨æˆ·é‡åˆ°é—®é¢˜ï¼ˆUIé—®é¢˜ã€æ•°æ®ä¼ è¾“é—®é¢˜ã€å´©æºƒç­‰ï¼‰éœ€è¦è°ƒè¯•ã€‚AIå¿…é¡»ï¼š**
1. ä½¿ç”¨ xcodebuild MCP å·¥å…·å®ç°å®Œå…¨è‡ªåŠ¨åŒ–æµç¨‹
2. è¯Šæ–­é—®é¢˜å¹¶ç¼–å†™è°ƒè¯•ä»£ç 
3. æ‰§è¡Œè‡ªåŠ¨åŒ–æµ‹è¯•éªŒè¯ä¿®å¤
4. **æœ€åå¿…é¡»é‡æ–°åˆ·æ–° appï¼Œä¾›ç”¨æˆ·æœ€ç»ˆæ£€æŸ¥**

## æ ¸å¿ƒè§„åˆ™ï¼ˆå¼ºåˆ¶æ‰§è¡Œï¼‰

### è§„åˆ™ 1: å®Œå…¨è‡ªåŠ¨åŒ–
**å½“å¼•ç”¨ `@xcode-log.mdc` æ—¶ï¼Œå¿…é¡»ä½¿ç”¨ MCP å·¥å…·å®ç°å®Œå…¨è‡ªåŠ¨åŒ–ï¼Œä¸å¾—æ‰‹åŠ¨æ“ä½œï¼š**
- è‡ªåŠ¨æ£€æµ‹é¡¹ç›®ï¼š`discover_projs()`
- è‡ªåŠ¨è·å–æ¨¡æ‹Ÿå™¨ï¼š`list_sims()`
- è‡ªåŠ¨æ„å»ºè¿è¡Œï¼š`build_run_sim()`
- è‡ªåŠ¨æ•è·æ—¥å¿—ï¼š`launch_app_logs_sim()`
- è‡ªåŠ¨æ£€æŸ¥ UIï¼š`describe_ui()`
- è‡ªåŠ¨æˆªå±éªŒè¯ï¼š`screenshot()`

### è§„åˆ™ 2: é—®é¢˜è¯Šæ–­ä¸è°ƒè¯•ä»£ç ç¼–å†™
**å½“å¼•ç”¨æ­¤è§„åˆ™æ—¶ï¼Œè¯´æ˜ç”¨æˆ·é‡åˆ°äº†é—®é¢˜ï¼ŒAIå¿…é¡»ï¼š**
1. **è¯Šæ–­é—®é¢˜**ï¼šåˆ†æé—®é¢˜ç±»å‹ï¼ˆUIå¼‚å¸¸ã€æ•°æ®ä¼ è¾“é”™è¯¯ã€å´©æºƒã€å¯åŠ¨å¤±è´¥ç­‰ï¼‰
2. **ç¼–å†™è°ƒè¯•ä»£ç **ï¼šåœ¨å…³é”®ä½ç½®æ·»åŠ å¸¦ emoji æ ‡è®°çš„ `print()` è¯­å¥
3. **è‡ªåŠ¨æµ‹è¯•**ï¼šè¿è¡Œåº”ç”¨ã€æ•è·æ—¥å¿—ã€åˆ†æç»“æœ
4. **è¿­ä»£ä¿®å¤**ï¼šæ ¹æ®æ—¥å¿—åˆ†æç»“æœä¿®å¤é—®é¢˜ï¼Œé‡å¤æµ‹è¯•ç›´åˆ°è§£å†³

### è§„åˆ™ 3: æœ€ååˆ·æ–° Appï¼ˆå¼ºåˆ¶ï¼‰
**æ— è®ºè°ƒè¯•æ˜¯å¦æˆåŠŸï¼Œæœ€åå¿…é¡»æ‰§è¡Œï¼š**
1. åœæ­¢å½“å‰åº”ç”¨ï¼š`stop_app_sim()`
2. æ¸…ç†æ„å»ºï¼š`clean()`
3. é‡æ–°æ„å»ºè¿è¡Œï¼š`build_run_sim()`
4. ç­‰å¾…å¯åŠ¨ï¼š`sleep(3-5)`
5. éªŒè¯ UIï¼š`describe_ui()`
6. **æç¤ºç”¨æˆ·æ£€æŸ¥æœ€ç»ˆç»“æœ**

## è‡ªåŠ¨åŒ–æ‰§è¡Œæµç¨‹

### å®Œæ•´è‡ªåŠ¨åŒ–è°ƒè¯•æµç¨‹
```javascript
// === ç¬¬ä¸€æ­¥ï¼šè‡ªåŠ¨æ£€æµ‹é¡¹ç›®ç¯å¢ƒ ===
1. discover_projs({ workspaceRoot: "/Users/yjh/Desktop/Design patterns" })
   â†’ è·å–: projectPath/workspacePath, scheme

2. list_sims()
   â†’ è·å–: è¿è¡Œä¸­çš„æ¨¡æ‹Ÿå™¨ UUIDï¼ˆä¼˜å…ˆä½¿ç”¨ Booted çŠ¶æ€ï¼‰

// === ç¬¬äºŒæ­¥ï¼šé—®é¢˜è¯Šæ–­ï¼ˆæ ¹æ®ç”¨æˆ·æè¿°æˆ–å®é™…æƒ…å†µï¼‰ ===
3. åˆ†æé—®é¢˜ç±»å‹ï¼š
   - UI é—®é¢˜ï¼šdescribe_ui() æ£€æŸ¥å½“å‰ UI çŠ¶æ€
   - å¯åŠ¨é—®é¢˜ï¼šæ£€æŸ¥åº”ç”¨æ˜¯å¦è¿è¡Œ
   - æ•°æ®ä¼ è¾“é—®é¢˜ï¼šæ£€æŸ¥ç›¸å…³ä»£ç å’Œæ—¥å¿—
   - å´©æºƒé—®é¢˜ï¼šæ£€æŸ¥å´©æºƒæ—¥å¿—

// === ç¬¬ä¸‰æ­¥ï¼šç¼–å†™è°ƒè¯•ä»£ç  ===
4. åœ¨å…³é”®ä½ç½®æ·»åŠ è°ƒè¯• print() è¯­å¥ï¼š
   - é—®é¢˜ç›¸å…³çš„å‡½æ•°å…¥å£
   - å…³é”®æ•°æ®å˜åŒ–ç‚¹
   - å¼‚å¸¸å¤„ç†ä½ç½®
   
   ä½¿ç”¨ emoji æ ‡è®°ï¼š
   âœ… æˆåŠŸæ‰§è¡Œ
   âŒ é”™è¯¯
   âš ï¸ è­¦å‘Š
   ğŸ” è°ƒè¯•ä¿¡æ¯
   ğŸ“¡ ç½‘ç»œè¯·æ±‚
   ğŸ’¾ æ•°æ®å­˜å‚¨
   ğŸ¨ UI æ¸²æŸ“

// === ç¬¬å››æ­¥ï¼šè‡ªåŠ¨åŒ–æµ‹è¯• ===
5. build_run_sim({
     projectPath/workspacePath: "...",
     scheme: "...",
     simulatorName/UUID: "..."
   })

6. sleep(3-5) // ç­‰å¾…åº”ç”¨å¯åŠ¨

7. launch_app_logs_sim({
     simulatorUuid: "...",
     bundleId: "com.daiwo.zydd"
   })
   â†’ è¿”å› sessionId

8. sleep(3-5) // ç­‰å¾…æ—¥å¿—äº§ç”Ÿ

9. stop_device_log_cap({ logSessionId: "..." })
   â†’ è·å–æ—¥å¿—å†…å®¹

10. describe_ui({ simulatorUuid: "..." })
    â†’ æ£€æŸ¥ UI çŠ¶æ€

// === ç¬¬äº”æ­¥ï¼šåˆ†æç»“æœå¹¶ä¿®å¤ ===
11. åˆ†ææ—¥å¿—ï¼Œå®šä½é—®é¢˜
12. ä¿®å¤ä»£ç 
13. å¦‚æœé—®é¢˜æœªè§£å†³ï¼Œå›åˆ°æ­¥éª¤ 4ï¼Œç»§ç»­è¿­ä»£

// === ç¬¬å…­æ­¥ï¼šæœ€ååˆ·æ–° Appï¼ˆå¼ºåˆ¶æ‰§è¡Œï¼‰ ===
14. stop_app_sim({
      simulatorUuid: "...",
      bundleId: "com.daiwo.zydd"
    })

15. clean({
      projectPath/workspacePath: "...",
      scheme: "...",
      platform: "iOS Simulator"
    })

16. build_run_sim({
      projectPath/workspacePath: "...",
      scheme: "...",
      simulatorName/UUID: "..."
    })

17. sleep(3-5)

18. describe_ui({ simulatorUuid: "..." })
    â†’ éªŒè¯æœ€ç»ˆçŠ¶æ€

19. screenshot({ simulatorUuid: "..." })
    â†’ æˆªå›¾ä¾›ç”¨æˆ·æ£€æŸ¥

20. **æç¤ºç”¨æˆ·ï¼šåº”ç”¨å·²åˆ·æ–°ï¼Œè¯·æ£€æŸ¥æœ€ç»ˆç»“æœ**
```

## è°ƒè¯•ä»£ç ç¼–å†™è§„èŒƒ

### Emoji æ ‡è®°æ ‡å‡†
```swift
// âœ… æˆåŠŸæ‰§è¡Œ
print("âœ… AppDelegate: didFinishLaunching called")
print("âœ… ViewController: viewDidLoad called")
print("âœ… Data: Successfully loaded \(count) items")

// âŒ é”™è¯¯
print("âŒ Error: Failed to load data - \(error.localizedDescription)")
print("âŒ Network: Request failed with status \(statusCode)")

// âš ï¸ è­¦å‘Š
print("âš ï¸ Warning: Data is nil, using default value")
print("âš ï¸ UI: Frame is zero, view may not be laid out")

// ğŸ” è°ƒè¯•ä¿¡æ¯
print("ğŸ” Debug: Current count = \(count)")
print("ğŸ” Debug: Entering function processData()")

// ğŸ“¡ ç½‘ç»œè¯·æ±‚
print("ğŸ“¡ Network: Starting request to \(url)")
print("ğŸ“¡ Network: Response received: \(response)")

// ğŸ’¾ æ•°æ®å­˜å‚¨
print("ğŸ’¾ Data: Saving to UserDefaults")
print("ğŸ’¾ Data: Loading from cache")

// ğŸ¨ UI æ¸²æŸ“
print("ğŸ¨ UI: View frame set to \(frame)")
print("ğŸ¨ UI: Updating \(subviewCount) subviews")
```

### å…³é”®ä½ç½®æ·»åŠ è°ƒè¯•ä»£ç 

#### UI é—®é¢˜è°ƒè¯•
```swift
// ViewController.swift
override func viewDidLoad() {
    super.viewDidLoad()
    print("âœ… ViewController: viewDidLoad called")
    print("ğŸ¨ UI: View frame: \(view.frame)")
    // ... å…¶ä»–ä»£ç  ...
}

override func viewWillAppear(_ animated: Bool) {
    super.viewWillAppear(animated)
    print("âœ… ViewController: viewWillAppear called")
    // ... å…¶ä»–ä»£ç  ...
}

override func viewDidLayoutSubviews() {
    super.viewDidLayoutSubviews()
    print("ğŸ¨ UI: viewDidLayoutSubviews called, frame: \(view.frame)")
}
```

#### æ•°æ®ä¼ è¾“é—®é¢˜è°ƒè¯•
```swift
// æ•°æ®åŠ è½½
func loadData() {
    print("ğŸ” Debug: Starting loadData()")
    print("ğŸ“¡ Network: Requesting data from \(urlString)")
    
    // ... ç½‘ç»œè¯·æ±‚ ...
    
    completionHandler { result in
        switch result {
        case .success(let data):
            print("âœ… Data: Successfully loaded \(data.count) items")
            print("ğŸ’¾ Data: First item: \(data.first?.description ?? "nil")")
        case .failure(let error):
            print("âŒ Error: Failed to load data - \(error.localizedDescription)")
        }
    }
}

// æ•°æ®å¤„ç†
func processData(_ data: [Item]) {
    print("ğŸ” Debug: Processing \(data.count) items")
    for (index, item) in data.enumerated() {
        print("ğŸ” Debug: Item \(index): \(item.description)")
    }
}
```

#### å¯åŠ¨é—®é¢˜è°ƒè¯•
```swift
// AppDelegate.swift
func application(_ application: UIApplication, 
                didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey: Any]?) -> Bool {
    print("âœ… AppDelegate: didFinishLaunchingWithOptions called")
    
    // ... çª—å£åˆ›å»ºä»£ç  ...
    
    if window != nil {
        print("âœ… AppDelegate: Window created successfully")
        print("ğŸ¨ UI: Window frame: \(window!.frame)")
    } else {
        print("âŒ Error: Failed to create window")
    }
    
    return true
}

// SceneDelegate.swiftï¼ˆå¦‚æœä½¿ç”¨ Sceneï¼‰
func scene(_ scene: UIScene, willConnectTo session: UISceneSession, 
           options connectionOptions: UIScene.ConnectionOptions) {
    print("âœ… SceneDelegate: willConnectTo called")
    
    guard let windowScene = (scene as? UIWindowScene) else {
        print("âŒ Error: Failed to cast scene to UIWindowScene")
        return
    }
    
    print("âœ… SceneDelegate: Window scene created")
}
```

## é—®é¢˜è¯Šæ–­æŒ‡å—

### UI é—®é¢˜è¯Šæ–­
```
é—®é¢˜ç°è±¡ï¼šé»‘å±ã€UI ä¸æ˜¾ç¤ºã€å¸ƒå±€å¼‚å¸¸

è¯Šæ–­æµç¨‹ï¼š
1. describe_ui() â†’ æ£€æŸ¥ UI å±‚æ¬¡ç»“æ„
2. å¦‚æœ UI ä¸ºç©ºæˆ– children.length === 0 â†’ UI æœªåŠ è½½
3. æ·»åŠ è°ƒè¯•ä»£ç ï¼š
   - viewDidLoad/viewWillAppear
   - viewDidLayoutSubviews
   - å…³é”® UI æ›´æ–°æ–¹æ³•
4. æ•è·æ—¥å¿—ï¼Œæ£€æŸ¥æ˜¯å¦æ‰§è¡Œåˆ°è¿™äº›æ–¹æ³•
5. æ ¹æ®æ—¥å¿—å®šä½é—®é¢˜ä»£ç 
```

### æ•°æ®ä¼ è¾“é—®é¢˜è¯Šæ–­
```
é—®é¢˜ç°è±¡ï¼šæ•°æ®ä¸æ˜¾ç¤ºã€æ•°æ®é”™è¯¯ã€ç½‘ç»œè¯·æ±‚å¤±è´¥

è¯Šæ–­æµç¨‹ï¼š
1. æ·»åŠ è°ƒè¯•ä»£ç ï¼š
   - ç½‘ç»œè¯·æ±‚å¼€å§‹/ç»“æŸ
   - æ•°æ®è§£ææˆåŠŸ/å¤±è´¥
   - æ•°æ®æ›´æ–°åˆ° UI
2. æ•è·æ—¥å¿—ï¼Œæ£€æŸ¥æ•°æ®æµè½¬ï¼š
   - è¯·æ±‚æ˜¯å¦å‘é€
   - å“åº”æ˜¯å¦æ¥æ”¶
   - æ•°æ®æ˜¯å¦æ­£ç¡®è§£æ
   - UI æ˜¯å¦æ­£ç¡®æ›´æ–°
3. æ ¹æ®æ—¥å¿—å®šä½é—®é¢˜
```

### å¯åŠ¨é—®é¢˜è¯Šæ–­
```
é—®é¢˜ç°è±¡ï¼šåº”ç”¨æ— æ³•å¯åŠ¨ã€å´©æºƒã€å¯åŠ¨åç«‹å³é€€å‡º

è¯Šæ–­æµç¨‹ï¼š
1. build_run_sim() å¯åŠ¨åº”ç”¨
2. ç«‹å³ capture logs
3. æ£€æŸ¥å…³é”®æ—¥å¿—ï¼š
   - AppDelegate: didFinishLaunching
   - SceneDelegate: willConnectTo
   - ViewController: viewDidLoad
4. å¦‚æœç¼ºå°‘æŸä¸ªæ—¥å¿—ï¼Œè¯´æ˜è¯¥æ­¥éª¤æœªæ‰§è¡Œ
5. æ£€æŸ¥å´©æºƒä¿¡æ¯
```

### å´©æºƒé—®é¢˜è¯Šæ–­
```
é—®é¢˜ç°è±¡ï¼šåº”ç”¨å´©æºƒ

è¯Šæ–­æµç¨‹ï¼š
1. build_run_sim() å¯åŠ¨åº”ç”¨
2. launch_app_logs_sim() æ•è·æ—¥å¿—
3. æŸ¥æ‰¾å´©æºƒå †æ ˆä¿¡æ¯
4. å®šä½å´©æºƒä½ç½®å’ŒåŸå› 
5. ä¿®å¤ä»£ç å¹¶é‡æ–°æµ‹è¯•
```

## æ—¥å¿—åˆ†æè¦ç‚¹

### å…³é”®æ—¥å¿—æ£€æŸ¥æ¸…å•
```
å¯åŠ¨æµç¨‹ï¼š
- [ ] âœ… AppDelegate: didFinishLaunching
- [ ] âœ… SceneDelegate: willConnectToï¼ˆå¦‚æœä½¿ç”¨ Sceneï¼‰
- [ ] âœ… ViewController: viewDidLoad
- [ ] âœ… ViewController: viewWillAppear

æ•°æ®æµç¨‹ï¼š
- [ ] ğŸ“¡ Network: Request started
- [ ] ğŸ“¡ Network: Response received
- [ ] âœ… Data: Successfully loaded
- [ ] ğŸ¨ UI: Updating UI with data

UI æµç¨‹ï¼š
- [ ] ğŸ¨ UI: View frame set
- [ ] ğŸ¨ UI: viewDidLayoutSubviews called
- [ ] âœ… ViewController: ç”Ÿå‘½å‘¨æœŸæ–¹æ³•æ‰§è¡Œ

é”™è¯¯æ£€æŸ¥ï¼š
- [ ] âŒ Error: ä»»ä½•é”™è¯¯ä¿¡æ¯
- [ ] âš ï¸ Warning: ä»»ä½•è­¦å‘Šä¿¡æ¯
```

## è°ƒè¯•ä»£ç æ¸…ç†ï¼ˆå®Œæˆåï¼‰

### æ¸…ç†åŸåˆ™
**è°ƒè¯•å®Œæˆåï¼Œå¿…é¡»åˆ é™¤æ‰€æœ‰ä¸´æ—¶è°ƒè¯•ä»£ç ï¼š**

1. **åˆ é™¤è°ƒè¯• print()**
   - åˆ é™¤æ‰€æœ‰å¸¦ emoji æ ‡è®°çš„ print è¯­å¥
   - ä¿ç•™å¿…è¦çš„é”™è¯¯å¤„ç† print

2. **éªŒè¯æ¸…ç†**
   ```bash
   grep -r "print(" --include="*.swift" | grep "âœ…\|âŒ\|âš ï¸\|ğŸ”\|ğŸ“¡\|ğŸ’¾\|ğŸ¨\|Debug"
   ```

3. **æ¸…ç†æ¸…å•**
   - [ ] AppDelegate/SceneDelegate ä¸­æ— è°ƒè¯• print
   - [ ] ViewController ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ä¸­æ— è°ƒè¯• print
   - [ ] æ•°æ®åŠ è½½æ–¹æ³•ä¸­æ— è°ƒè¯• print
   - [ ] ä»…ä¿ç•™å¿…è¦çš„é”™è¯¯å¤„ç†è¾“å‡º

## é¡¹ç›®é…ç½®
- Bundle ID: `com.daiwo.zydd`ï¼ˆæˆ–å½“å‰é¡¹ç›®ï¼‰
- é»˜è®¤æ¨¡æ‹Ÿå™¨: `iPhone SE (3rd generation)`
- é¡¹ç›®è·¯å¾„: `/Users/yjh/Desktop/Design patterns`

## æ³¨æ„äº‹é¡¹
- **å¼ºåˆ¶æ‰§è¡Œ**ï¼šå¼•ç”¨æ­¤è§„åˆ™æ—¶ï¼Œå¿…é¡»å®Œæˆæ•´ä¸ªè‡ªåŠ¨åŒ–æµç¨‹ï¼Œä¸å¾—ä¸­é€”åœæ­¢
- **æœ€ååˆ·æ–°**ï¼šæ— è®ºè°ƒè¯•ç»“æœå¦‚ä½•ï¼Œæœ€åå¿…é¡»é‡æ–°æ„å»ºè¿è¡Œ app
- **æ—¥å¿—å·¥å…·ä¼˜å…ˆçº§**ï¼šä¼˜å…ˆä½¿ç”¨ `launch_app_logs_sim`ï¼Œå¤±è´¥æ—¶æç¤ºæŸ¥çœ‹ Xcode Debug Console
- **è¿­ä»£è°ƒè¯•**ï¼šå¦‚æœé—®é¢˜æœªè§£å†³ï¼Œç»§ç»­é‡å¤è°ƒè¯•æµç¨‹ç›´åˆ°è§£å†³
