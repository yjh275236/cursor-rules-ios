# Plan 文档参考样式规则

本文档提供编写和更新 `项目.plan.md` 时的标准样式参考，确保文档风格一致性。

---

## 1. UI 布局描述样式参考

### 标准描述格式

编写 UI 布局时，使用以下结构化格式：

```markdown
## [页面编号]. [页面名称]

**顶部区域**：
- 返回按钮：位置
- 标题：对齐方式、颜色、字体大小
- 其他元素：位置、尺寸

**内容区域**：
- 背景：颜色、图片
- 左右边距：数值

**[容器/单元格名称]**
- 容器尺寸：宽x高
- 背景色：颜色值
- 圆角：数值
- 间距：上下左右间距

**元素布局**（使用层级缩进）：
- 第一排：元素描述、尺寸、颜色、间距
= 左侧：具体元素、尺寸、颜色
= 右侧：具体元素、尺寸、颜色
- 第二排：...
↓ 列间隔：数值
- 第三排：...

**底部按钮**
- 按钮尺寸：宽x高
- 圆角：数值
- 背景：颜色值
- 文字：内容、颜色
- 距离底部：数值
```

### 实际示例（银行账户校验首页）

```markdown
6.1 银行账户校验首页

**顶部区域**：
- 返回按钮：左边
- 标题：居中，与返回按钮垂直居中对齐，黑色文字，字体18pt
- 标题内容：银行账户校验

**内容区域**：

**内容**
- 单元格：背景白色，没有左右间距，高50，单元格底部左右间隔15分割线
- 单元格内容，左边距15，右边距15
- 单元格
= 左侧：文字：*银行账号，其中 *为红色，文字为黑色
= 右侧：接口数据：请输入银行账号 行间隔8
- 单元格
= 左侧：文字：*账号类型
= 右侧：选中图片processingSelected，间隔5，文字：账户，间隔15，未选中图片processingNuselected，文字：卡号
= **交互**：点击图片或文字均可切换账号类型（0: 账户, 1: 卡号）
- 单元格
= 左侧：文字：*银行名称，其中 *为红色，文字为黑色
= 右侧：接口数据：请选择银行 行间隔8，向右箭头
= **选择后显示**：显示银行简称（bankCode），不是银行全称（bankName）

**底部按钮**
按钮：圆角13，左右边距15，高50，背景#8B66E1，文字：确认，白色，距离底部15
```

### 布局描述要点

**必须包含的信息**：
- 具体尺寸（宽、高、间距）
- 颜色值（使用十六进制如 #7B55D3 或颜色名称）
- 圆角值
- 字体大小
- 边距/间距
- 元素对齐方式

**层级符号说明**：
- `-` 主要元素或同级元素
- `=` 子元素或内嵌元素
- `↓` 表示列间隔/垂直间距
- `→` 表示行间隔/水平间距

**特殊标注**：
- `**交互**：` 用于描述交互行为
- `**选择后显示**：` 用于描述状态变化
- `**默认状态**：` 用于描述初始状态

---

## 2. iOS 术语对照表

### 屏幕布局关键信息

**Status Bar（状态栏）高度**：
- 传统设备（iPhone 8 及以前）：20pt
- 刘海屏设备（iPhone X - 13 系列）：44pt  
- 灵动岛设备（iPhone 14 Pro 及以后）：59pt

**Navigation Bar（导航栏）高度**：
- 标准高度：44pt
- 加上状态栏总高度：
  - 传统设备：64pt (20 + 44)
  - 刘海屏设备：88pt (44 + 44)
  - 灵动岛设备：103pt (59 + 44)

**Tab Bar（标签栏）高度**：
- 传统设备：49pt
- 全面屏设备：49pt + 34pt (Safe Area) = 83pt

**Home Indicator（主页指示器）**：
- 传统设备：无
- 全面屏设备（iPhone X 及以后）：底部 34pt Safe Area

**设计基准**：
- 推荐使用 iPhone 14/15 (390 × 844) 作为设计基准
- 左右边距通常使用 15pt 或 20pt
- 圆角通常使用 8pt、10pt、13pt 等

### 常用 UI 组件术语

| 英文（推荐） | 中文 | 含义 |
|------------|------|------|
| Navigation Bar | 导航栏 | 顶部标题栏 |
| Tab Bar | 标签栏 | 底部切换栏 |
| Status Bar | 状态栏 | 顶部时间/电量区域 |
| Safe Area | 安全区域 | 避开刘海/底部横线的区域 |
| Home Indicator | 主页指示器 | iPhone X+ 底部横线 |
| Table View | 表格视图 | 列表容器 |
| Collection View | 集合视图 | 网格/瀑布流容器 |
| Cell | 单元格 | 列表/集合中的单个项 |
| ScrollView | 滚动视图 | 可滚动内容容器 |
| Stack View | 堆叠视图 | 垂直/水平容器 |
| ImageView | 图片视图 | 显示图片的组件 |
| Label | 标签 | 显示文本的组件 |
| Button | 按钮 | 可点击的交互元素 |
| TextField | 文本框 | 单行文本输入框 |
| TextView | 文本视图 | 多行文本输入/显示 |
| Constraint | 约束 | Auto Layout 布局规则 |

### 常用布局术语

| 术语 | 含义 | 示例 |
|------|------|------|
| 列间隔 | 垂直方向的间距 | ↓ 列间隔15pt |
| 行间隔 | 水平方向的间距 | → 行间隔10pt |
| 左边距 | 距离左侧的距离 | 左边距15pt |
| 右边距 | 距离右侧的距离 | 右边距15pt |
| 上边距 | 距离顶部的距离 | 上边距20pt |
| 下边距 | 距离底部的距离 | 下边距10pt |
| 左右边距 | 同时设置左右边距 | 左右边距15pt |
| 圆角 | 边框圆角半径 | 圆角13pt |
| 容器 | 包含其他元素的视图 | 容器345x100 |

### 常用颜色表示

- 十六进制：`#7B55D3`、`#FFFFFF`、`#999999`
- 颜色名称：白色、黑色、红色、绿色
- 特殊描述：背景白色、文字黑色、边框灰色

### 注意事项

- Home Indicator ≠ Safe Area（前者是硬件特征，后者是布局 API）
- Navigation Bar 不等于顶部区域（可能包含自定义元素）
- 使用中文时保持术语一致性

---

## 3. Plan 文档结构模板

### 完整结构

```markdown
# 项目概述
- **项目名称**：[项目名称]
- **项目定位**：[简要描述]
- **目标用户**：[用户群体]

## 技术栈概览
- **开发语言**：Swift
- **架构模式**：MVC / MVVM / VIPER
- **依赖管理**：CocoaPods / SPM
- **主要三方库**：
  - Moya（网络请求）
  - SnapKit（布局）
  - Kingfisher（图片加载）
  - [其他库]

## 目录结构
```
项目名/
├── Modules/           # 功能模块
│   ├── Auth/         # 登录模块
│   ├── Home/         # 首页模块
│   └── [其他模块]/
├── Common/           # 公共模块
│   ├── Base/        # Base 类
│   ├── Extensions/  # 扩展
│   ├── Utils/       # 工具类
│   └── Network/     # 网络层
└── Resources/       # 资源文件
```

---

# 第一部分：UI 布局

## 1. [页面名称]

**顶部区域**
- 导航栏配置
- 标题
- 按钮

**内容区域**
- 布局描述
- 元素尺寸
- 颜色规范
- 间距规范

**底部区域**
- 按钮布局
- 其他固定元素

---

# 第二部分：功能需求

## 1. [功能模块]

### 1.1 [具体功能]
- 功能描述
- 交互逻辑
- 数据处理
- 页面跳转

---

# 第三部分：附加信息（可选）

## 优先级划分
- MVP 功能
- 后续迭代功能

## 非功能性需求
- 性能要求
- 安全要求
- 兼容性要求
```

---

## 4. 常见描述模式

### 顶部区域标准描述

```markdown
**顶部区域**
- 左侧：返回按钮/关闭按钮
- 标题：居中，[标题内容]，颜色[颜色值]，字体[大小]
- 右侧：[功能按钮]（可选）
- 分割线：高度1pt，颜色[颜色值]（可选）
```

### 列表/表格标准描述

```markdown
**列表容器**
- 背景：[颜色]
- 左右边距：[数值]

**列表单元格**
- 容器高度：[数值]
- 背景色：[颜色]
- 圆角：[数值]
- 单元格间隔：[数值]

**左侧内容**（从上到下）
- 第1行：[内容]，颜色[颜色值]，字体[大小]
- 第2行：[内容]，颜色[颜色值]
- 第3行：[内容]，颜色[颜色值]

**右侧内容**（垂直居中）
- [内容]，颜色[颜色值]
```

### 弹窗/对话框标准描述

```markdown
**弹窗样式**
- 展开方式：从底部向上/从中心弹出
- 容器尺寸：[宽]x[高]
- 背景色：[颜色]
- 圆角：[数值]

**内容区域**
- 第一排：标题，居中，字体[大小]
- 第二排：[内容描述]
- 第三排：[输入框/选择器等]

**底部操作栏**
- 容器高度：[数值]
- 左侧按钮：[文字]，背景[颜色]，文字[颜色]
- 右侧按钮：[文字]，背景[颜色]，文字[颜色]
- 按钮分割线：垂直，颜色[颜色值]
```

### 筛选/搜索功能标准描述

```markdown
**筛选栏**
- 背景：[颜色]
- 左侧按钮组：[按钮1]、[按钮2]、[按钮3]
  - 选中状态：背景[颜色]，文字[颜色]，圆角[数值]
  - 未选中状态：背景[颜色]，文字[颜色]，圆角[数值]
- 右侧筛选按钮：文字"筛选"，颜色[颜色值]，图标[图标名称]

**筛选弹窗**
- 弹窗样式：从下向上展开
- 标题："全部筛选"（居中）

**筛选项布局**
- 小标题：[类型]
- 第一排：[选项1]、[选项2]、[选项3]，尺寸[宽]x[高]
- 第二排：[选项4]、[选项5]，尺寸[宽]x[高]

**底部操作栏**
- 重置按钮：占满左侧，背景[颜色]，文字[颜色]
- 确认按钮：占满右侧，背景[颜色]，文字[颜色]
```

### 功能需求标准描述

```markdown
## [功能模块]

### [子功能]

#### 数据展示
- 展示字段：[字段1]、[字段2]、[字段3]
- 默认筛选：[条件]
- 排序规则：[规则]

#### 交互逻辑
- 点击[元素]：执行[操作]
- 滑动操作：[行为]
- 长按操作：[行为]

#### 按钮行为
- [按钮名称]：
  - 点击前判断：[条件]
  - 成功后：[操作]
  - 失败后：[提示]

#### 页面跳转
- [触发条件] → 跳转至[页面]
- 携带参数：[参数列表]

#### 数据处理
- 输入验证：[规则]
- 数据转换：[转换逻辑]
- 错误处理：[处理方式]
```

---

## 使用说明

### AI 编写 plan 文档时

1. **遵循结构模板**：使用第3节的完整结构
2. **参考样式格式**：UI 布局使用第1节的标准格式
3. **使用标准术语**：参考第2节的术语对照表
4. **套用描述模式**：常见场景使用第4节的模式

### 用户编写 plan 文档时

- 可以灵活使用任何描述方式
- AI 会理解并转换为标准格式
- 建议参考样式以便 AI 更准确理解

### 保持一致性

- 同一项目内的 plan 文档保持风格一致
- 术语使用保持统一（中文或英文）
- 颜色表示方式保持一致（十六进制或颜色名称）
